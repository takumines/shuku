# TODO - 開発ロードマップ

## 🎯 プロダクトゴールと戦略

**最終目標**: 実用的な画像圧縮ツールとして広く採用される
**戦略**: 既存実装活用 → 品質基盤 → 新価値 → UX向上 → 完成品質

## 📋 マイルストーン別開発計画

### 🎯 Milestone 1: PNG対応完了 (v0.2.0) ✅ **完了**
*既存PNG実装を活用した最速価値提供*

- ✅ **m1_1**: PNG圧縮をCLIに統合（TDD Phase 1-3）
- ✅ **m1_2**: PNG圧縮の統合テスト追加（CLI動作確認）

**期待成果**: 実用的な画像圧縮ツールとして機能（JPEG+PNG対応） ✅

### 🎯 Milestone 2: 品質基盤構築 (v0.3.0前) ✅ **完了**
*長期開発効率と信頼性の確保*

- ✅ **m2_1**: GitHub Actions CI/CD設定（テスト自動化）
- ✅ **m2_2**: GoReleaser設定（バイナリ自動配布）
- ✅ **m2_3**: PNG圧縮のユニットテスト強化

**期待成果**: 安定した開発サイクル確立 ✅

### 🎯 Milestone 3: WebP対応 (v0.3.0) ✅ **完了**
*WebP対応で差別化*

- ✅ **m3_1**: WebP圧縮エンジン実装（chai2010/webpライブラリ使用）
- ✅ **m3_2**: WebPコンプレッサー登録とCLI統合
- ✅ **m3_3**: WebP圧縮テスト実装

**期待成果**: モダンな画像形式対応ツール（主要3形式対応） ✅

### 🎯 Milestone 4: UX大幅改善 (v0.4.0) 🚧 **進行中**
*大幅なUX改善*

- ✅ **m4_1**: 複数ファイル一括圧縮（ディレクトリ指定対応）
- ✅ **m4_1a**: 再帰的ディレクトリ処理
- ✅ **m4_1b**: 並行処理による高速化
- ✅ **m4_1c**: フィルタリング機能（包含・除外パターン）
- ✅ **m4_1d**: 圧縮統計表示機能
- [ ] **m4_2**: プログレスバー実装（大容量ファイル処理UX）
- [ ] **m4_3**: 設定ファイル対応（.shuku.yaml）

**期待成果**: 企業・プロジェクト採用レベルの実用性 ✅ **コア機能達成**（UX向上残り2項目）

### 🎯 Milestone 4b: 品質改善 (v0.5.0) ✅ **完了**
*テストカバレッジ向上と品質基盤強化*

- ✅ **m4b_1**: 優先度1品質改善完了（テストカバレッジ大幅向上）
  - ✅ cmd/shuku/version: 0% → 100%
  - ✅ cmd/shuku: 0% → 66.7%
  - ✅ cmd/shuku/batch: 13.9% → 15.2%
- ✅ **m4b_2**: バッチCLIテストカバレッジ向上（15.2% → **84.8%**）
- ✅ **m4b_3**: cmd/shuku/compressテストカバレッジ改善（59.6% → **95.7%**）
- ✅ **m4b_4**: 総合カバレッジ75%+達成（**88.1%達成**）

**期待成果**: 高品質テスト基盤によるプロダクション対応準備 ✅ **達成**

### 🎯 Milestone 5: Production Ready (v1.0.0) - 完成品質
*完成品質の提供*

- [ ] **m5_1**: 包括的ドキュメント整備
- [ ] **m5_2**: ベンチマークテスト・パフォーマンス最適化
- [ ] **m5_3**: 詳細ログ機能実装

**期待成果**: エンタープライズ品質

## 🎯 現在の対応状況

### 対応済み形式 (v0.5.0-dev)
- **JPEG** (.jpg, .jpeg) - 品質設定0-100
- **PNG** (.png) - パレットサイズ設定
- **WebP** (.webp) - 品質設定0-100

### テストカバレッジ状況 (v0.5.0)
- **総合カバレッジ**: **88.1%** 🎯 **プロダクション品質達成**
- **pkg/shuku**: 95.8% (コア機能)
- **internal/batch**: 90.0% (バッチ処理)
- **internal/compressor**: 82.6% (圧縮エンジン)
- **cmd/shuku**: 66.7% (メインCLI)
- **cmd/shuku/version**: 100.0% (バージョンコマンド)
- **cmd/shuku/compress**: **95.7%** (圧縮コマンド) ✅ **大幅改善**
- **cmd/shuku/batch**: **84.8%** (バッチコマンド) ✅ **大幅改善**

### 基本的な使用方法
```bash
# 単一ファイル圧縮
shuku compress -i image.jpg -o output.jpg -q 80
shuku compress -i image.png -o output.png
shuku compress -i image.webp -o output.webp -q 60

# バッチ処理（NEW!）
shuku batch -i ./images -o ./compressed -q 70
shuku batch -i ./images -r --workers 8 --stats
shuku batch -i ./images --include "*.jpg,*.png" --exclude "*_thumb*"
```

## 🚀 次のアクション

### 🔥 **優先度1: v0.5.0品質リリース準備**
1. **PR #10マージ**: Milestone 4b品質改善のmainブランチマージ
2. **v0.5.0リリース**: プロダクション品質バージョンリリース
3. **ドキュメント修正**: README.mdビルドコマンド等

### ⚡ **優先度2: Milestone 4完了（v0.4.0 → v0.6.0）**
1. **m4_2**: プログレスバー実装（大容量ファイル処理UX）
2. **m4_3**: 設定ファイル対応（.shuku.yaml）

### 🚀 **優先度3: Milestone 5準備（v1.0.0）**
1. **m5_1**: 包括的ドキュメント整備
2. **m5_2**: ベンチマークテスト・パフォーマンス最適化
3. **m5_3**: 詳細ログ機能実装

**現状**: **Milestone 4b完了**により88.1%カバレッジ達成。プロダクション品質基盤確立、エンタープライズ対応準備完了。

## 📅 更新履歴

- 2025-07-21: **Milestone 4b完了** - 品質改善完全達成、総合カバレッジ88.1%、プロダクション品質基盤確立
- 2025-07-13: **Milestone 4b開始** - 優先度1品質改善完了、テストカバレッジ大幅向上（総合68.6%達成）
- 2025-07-13: **Milestone 4コア完了** - バッチ処理実装完了、並行処理・フィルタリング・統計機能、実用ツールに進化
- 2025-07-09: **Milestone 3完了** - WebP対応実装完了、主要3形式サポート達成
- 2025-07-08: **Milestone 2完全完了** - PNG圧縮のユニットテスト強化完了、品質基盤構築完成
- 2025-07-07: **Milestone 2完了** - CI/CDとバイナリ自動配布実装完了
- 2025-07-03: **Milestone 1完了** - PNG対応とTDD基盤構築完了
- 2025-07-01: TODO.md作成、開発ロードマップ整備
